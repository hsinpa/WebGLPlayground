{"version":3,"sources":["webpack://WebGL_Special_Effect/./src/DeepParallel/DeepParallel.ts","webpack://WebGL_Special_Effect/./src/Hsinpa/UtilityMethod.ts","webpack://WebGL_Special_Effect/./src/index.ts","webpack://WebGL_Special_Effect/webpack/bootstrap","webpack://WebGL_Special_Effect/webpack/runtime/make namespace object","webpack://WebGL_Special_Effect/webpack/startup"],"names":["body","this","_domBody","addEventListener","OnMouseMove","bind","config","_config","Dispose","elements","forEach","x","dom","querySelector","id","_recordOffsetX","_recordOffsetY","StartInverval","event","screenWidth","offsetWidth","screenHeight","offsetHeight","nMouseX","clientX","nMouseY","clientY","_targetOffsetX","_targetOffsetY","Lerp","lerp","Translate","mouseOffsetX","mouseOffsetY","element","translate","strength","depth_level","style","transform","_intervalFunc","setInterval","UpdateProcess","clearInterval","y","t","window","onload","console","log","parallelModule","document","fetch","then","response","json","myJson","SetConfig","__webpack_module_cache__","__webpack_require__","moduleId","exports","module","__webpack_modules__","r","Symbol","toStringTag","Object","defineProperty","value"],"mappings":"+GACA,eA0EA,UAxEA,MAYI,YAAYA,GACRC,KAAKC,SAAWF,EAChBC,KAAKC,SAASC,iBAAiB,YAAaF,KAAKG,YAAYC,KAAKJ,OAG/D,UAAUK,GACbL,KAAKM,QAAUD,EAEfL,KAAKO,UAGLP,KAAKM,QAAQE,SAASC,SAAQC,IAC1BA,EAAEC,IAAMX,KAAKC,SAASW,cAAcF,EAAEG,OAG1Cb,KAAKc,eAAiB,EACtBd,KAAKe,eAAiB,EAEtBf,KAAKgB,gBAGD,YAAYC,GAChB,IAAIC,EAAclB,KAAKC,SAASkB,YAC5BC,EAAepB,KAAKC,SAASoB,aAC7BC,EAAUL,EAAMM,QAAUL,EAC1BM,EAAUP,EAAMQ,QAAUL,EAE9BpB,KAAK0B,eAAiB,GAAMJ,EAC5BtB,KAAK2B,eAAiB,GAAMH,EAMxB,gBACJxB,KAAKc,eAAiB,EAAAc,KAAK5B,KAAKc,eAAgBd,KAAK0B,eAAgB1B,KAAKM,QAAQuB,MAClF7B,KAAKe,eAAiB,EAAAa,KAAK5B,KAAKe,eAAgBf,KAAK2B,eAAgB3B,KAAKM,QAAQuB,MAClF7B,KAAK8B,UAAU9B,KAAKc,eAAgBd,KAAKe,gBAGrC,UAAUgB,EAAuBC,GACrChC,KAAKM,QAAQE,SAASC,SAAQwB,IAC1B,IAGIC,EAAY,aAHEH,EAAe/B,KAAKM,QAAQ6B,SAAWF,EAAQG,kBAC/CJ,EAAehC,KAAKM,QAAQ6B,SAAWF,EAAQG,iBAGjEH,EAAQtB,IAAI0B,MAAMC,UAAYJ,KAI9B,gBACJlC,KAAKuC,cAAgBC,YAAYxC,KAAKyC,cAAcrC,KAAKJ,MAAO,IAAK,IAGlE,UACuB,MAAtBA,KAAKuC,eACLG,cAAc1C,KAAKuC,kB,2ECvE/B,gBAAqB7B,EAAYiC,EAAYC,GACzC,OAAOlC,EAAKkC,GAAKD,EAAIjC,K,cCDzB,OACA,eAGAmC,OAAOC,OAAS,KACZC,QAAQC,IAAI,UACZ,IAAIC,EAAiB,IAAI,UAAcC,SAAStC,cAAc,SAE9DuC,MAAM,mCACLC,MAAK,SAASC,GACX,OAAOA,EAASC,UAEnBF,MAAK,SAASG,GACXN,EAAeO,UAAWD,SCZ9BE,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,GAAGF,EAAyBE,GAC3B,OAAOF,EAAyBE,GAAUC,QAG3C,IAAIC,EAASJ,EAAyBE,GAAY,CAGjDC,QAAS,IAOV,OAHAE,EAAoBH,GAAUE,EAAQA,EAAOD,QAASF,GAG/CG,EAAOD,QCnBfF,EAAoBK,EAAKH,IACH,oBAAXI,QAA0BA,OAAOC,aAC1CC,OAAOC,eAAeP,EAASI,OAAOC,YAAa,CAAEG,MAAO,WAE7DF,OAAOC,eAAeP,EAAS,aAAc,CAAEQ,OAAO,KCHvDV,EAAoB,M","file":"main.js","sourcesContent":["import {ParallelDataType} from './ParallelDataType';\r\nimport {Lerp} from '../Hsinpa/UtilityMethod';\r\n\r\nclass DeepParallel {\r\n\r\n    _domBody : HTMLElement;\r\n    _config : ParallelDataType;\r\n\r\n    _recordOffsetX : number;\r\n    _recordOffsetY : number;\r\n    _targetOffsetX : number;\r\n    _targetOffsetY : number;\r\n\r\n    _intervalFunc : NodeJS.Timeout;\r\n\r\n    constructor(body : HTMLElement) {\r\n        this._domBody = body;\r\n        this._domBody.addEventListener('mousemove', this.OnMouseMove.bind(this));\r\n    }\r\n\r\n    public SetConfig(config :ParallelDataType) {\r\n        this._config = config;\r\n\r\n        this.Dispose();\r\n        \r\n        //Find Element in DOM\r\n        this._config.elements.forEach(x => {\r\n            x.dom = this._domBody.querySelector(x.id);\r\n        });\r\n\r\n        this._recordOffsetX = 0;\r\n        this._recordOffsetY = 0;\r\n        \r\n        this.StartInverval();\r\n    }\r\n\r\n    private OnMouseMove(event : MouseEvent) {\r\n        let screenWidth = this._domBody.offsetWidth;\r\n        let screenHeight = this._domBody.offsetHeight;\r\n        let nMouseX = event.clientX / screenWidth;\r\n        let nMouseY = event.clientY / screenHeight;\r\n\r\n        this._targetOffsetX = 0.5 - nMouseX;\r\n        this._targetOffsetY = 0.5 - nMouseY;\r\n\r\n        // console.log(`screenHeight ${screenHeight}, screenWidth ${screenWidth}, event.clientX ${event.clientX}, event.clientY ${event.clientY}`);\r\n        //console.log(`mouse moveement xOffset ${xOffset}, yOffset ${yOffset}`);\r\n    }\r\n\r\n    private UpdateProcess() {\r\n        this._recordOffsetX = Lerp(this._recordOffsetX, this._targetOffsetX, this._config.lerp);\r\n        this._recordOffsetY = Lerp(this._recordOffsetY, this._targetOffsetY, this._config.lerp);    \r\n        this.Translate(this._recordOffsetX, this._recordOffsetY); \r\n    }\r\n\r\n    private Translate(mouseOffsetX : number, mouseOffsetY : number) {\r\n        this._config.elements.forEach(element => {\r\n            let domOffsetX =  mouseOffsetX * this._config.strength * element.depth_level;\r\n            let domOffsetY =  mouseOffsetY * this._config.strength * element.depth_level;\r\n\r\n            let translate = `translate(${domOffsetX}px, ${domOffsetY}px)`;\r\n            element.dom.style.transform = translate;\r\n        });\r\n    }\r\n\r\n    private StartInverval() {\r\n        this._intervalFunc = setInterval(this.UpdateProcess.bind(this), 1000/60);   \r\n    }\r\n\r\n    public Dispose() {\r\n        if (this._intervalFunc != null)\r\n            clearInterval(this._intervalFunc);\r\n    }\r\n}\r\n\r\nexport default DeepParallel;","export function Lerp(x : number, y : number, t : number) {\r\n    return x + (t * (y - x));\r\n}","import './stylesheet/main.scss';\r\nimport DeepParallel from './DeepParallel/DeepParallel';\r\nimport {ParallelDataType} from './DeepParallel/ParallelDataType';\r\n\r\nwindow.onload = () => {\r\n    console.log(\"ONLOAD\");\r\n    let parallelModule = new DeepParallel( document.querySelector(\"body\") );\r\n    \r\n    fetch('./Dataset/parallel_setting.json')\r\n    .then(function(response) {\r\n        return response.json();\r\n    })\r\n    .then(function(myJson) {\r\n        parallelModule.SetConfig( myJson );\r\n    });\r\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(607);\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}